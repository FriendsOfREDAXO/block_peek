(()=>{const o=BLOCK_PEEK_PLACEHOLDER_SLICE_ID,s=BLOCK_PEEK_PLACEHOLDER_MAX_HEIGHT||1e4,n=document.body;let i=0;function c(){return Math.min(Math.max(n.scrollHeight,n.offsetHeight,n.clientHeight),s)}function a(){const e=c();if(e!==i){i=e;try{parent.postMessage({type:"resize",id:o,height:e,timestamp:Date.now()},"*")}catch(t){console.warn("Failed to send height to parent:",t)}}}function d(){r();const e=()=>{requestAnimationFrame(()=>a())},t=new window.ResizeObserver(e);e(),t.observe(document.body),window.__resizeObserver=t}function r(){window!=null&&window.__resizeObserver&&(window==null||window.__resizeObserver.disconnect(),window==null||delete window.__resizeObserver)}window.addEventListener("beforeunload",r),d();const h=history.replaceState;history.replaceState=function(...e){try{return h.apply(this,e)}catch(t){}}})();
//# sourceMappingURL=BlockPeekPoster.js.map
