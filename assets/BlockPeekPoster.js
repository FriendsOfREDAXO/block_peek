const a=BLOCK_PEEK_PLACEHOLDER_SLICE_ID,h=BLOCK_PEEK_PLACEHOLDER_MAX_HEIGHT||1e4,l=50,i=document.body;let o=0,r=null;function E(e,n){return function(...c){const u=this;clearTimeout(r),r=setTimeout(()=>e.apply(u,c),n)}}function w(){return Math.min(Math.max(i.scrollHeight,i.offsetHeight,i.clientHeight),h)}function t(){const e=w();if(e!==o){o=e;try{parent.postMessage({type:"resize",id:a,height:e,timestamp:Date.now()},"*")}catch(n){console.warn("Failed to send height to parent:",n)}}}const s=E(t,l);function _(){if(d(),"MutationObserver"in window){const e=new MutationObserver(s);e.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]}),window.__heightObserver=e}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()}function d(){window.removeEventListener("load",t),window.removeEventListener("resize",s),document.removeEventListener("DOMContentLoaded",t),window.__heightObserver&&(window.__heightObserver.disconnect(),delete window.__heightObserver)}window.addEventListener("beforeunload",d);_();
//# sourceMappingURL=BlockPeekPoster.js.map
